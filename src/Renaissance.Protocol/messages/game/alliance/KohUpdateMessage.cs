//-------------------------------------------------------------------------------
// <auto-generated>
//	This code was generated by a tool.
//  Generated on 07/11/2019 23:09:09.
//	Changes to this file may cause incorrect behavior !
//  Author : Scheduler.
// </auto-generated>
//-------------------------------------------------------------------------------

using Renaissance.Binary;
using Renaissance.Binary.Definition;
using Renaissance.Protocol.types.game.context.roleplay;

namespace Renaissance.Protocol.messages.game.alliance
{
    public class KohUpdateMessage : IDofusMessage
	{
		public  const int NetworkId = 6439;
		public  int ProtocolId { get { return NetworkId; } }

		public AllianceInformations[] Alliances { get; set; }

		public CustomVar<short>[] AllianceNbMembers { get; set; }

		public CustomVar<int>[] AllianceRoundWeigth { get; set; }

		public byte[] AllianceMatchScore { get; set; }

		public BasicAllianceInformations[] AllianceMapWinners { get; set; }

		public CustomVar<int> AllianceMapWinnerScore { get; set; }

		public CustomVar<int> AllianceMapMyAllianceScore { get; set; }

		public double NextTickTime { get; set; }


		public KohUpdateMessage() { }


		public KohUpdateMessage InitKohUpdateMessage(AllianceInformations[] _alliances, CustomVar<short>[] _alliancenbmembers, CustomVar<int>[] _allianceroundweigth, byte[] _alliancematchscore, BasicAllianceInformations[] _alliancemapwinners, CustomVar<int> _alliancemapwinnerscore, CustomVar<int> _alliancemapmyalliancescore, double _nextticktime)
		{

			this.Alliances = _alliances;
			this.AllianceNbMembers = _alliancenbmembers;
			this.AllianceRoundWeigth = _allianceroundweigth;
			this.AllianceMatchScore = _alliancematchscore;
			this.AllianceMapWinners = _alliancemapwinners;
			this.AllianceMapWinnerScore = _alliancemapwinnerscore;
			this.AllianceMapMyAllianceScore = _alliancemapmyalliancescore;
			this.NextTickTime = _nextticktime;

			return this;
		}

		public  byte[] Serialize()
		{

			using DofusWriter writer = new DofusWriter();

			writer.Write((short)(this.Alliances.Length));
			foreach(var obj in Alliances)
			{
				writer.Write(obj.Serialize());
			}
			writer.Write((short)(this.AllianceNbMembers.Length));
			foreach(var item in AllianceNbMembers)
				writer.Write(item);
			writer.Write((short)(this.AllianceRoundWeigth.Length));
			foreach(var item in AllianceRoundWeigth)
				writer.Write(item);
			writer.Write((short)(this.AllianceMatchScore.Length));
			foreach(var item in AllianceMatchScore)
				writer.Write(item);
			writer.Write((short)(this.AllianceMapWinners.Length));
			foreach(var obj in AllianceMapWinners)
			{
				writer.Write(obj.Serialize());
			}
			writer.Write(this.AllianceMapWinnerScore);
			writer.Write(this.AllianceMapMyAllianceScore);
			writer.Write(this.NextTickTime);

			return writer.Data;
		}

		public  void Deserialize(DofusReader reader)
		{

			int Alliances_length = reader.Read<short>();
			this.Alliances = new AllianceInformations[Alliances_length];
			for(int i = 0; i < Alliances_length; i++)
			{
				this.Alliances[i] = new AllianceInformations();
				this.Alliances[i].Deserialize(reader);
			}
			int AllianceNbMembers_length = reader.Read<short>();
			this.AllianceNbMembers = new CustomVar<short>[AllianceNbMembers_length];
			for(int i = 0; i < AllianceNbMembers_length; i++)
				this.AllianceNbMembers[i] = reader.Read<CustomVar<short>>();
			int AllianceRoundWeigth_length = reader.Read<short>();
			this.AllianceRoundWeigth = new CustomVar<int>[AllianceRoundWeigth_length];
			for(int i = 0; i < AllianceRoundWeigth_length; i++)
				this.AllianceRoundWeigth[i] = reader.Read<CustomVar<int>>();
			int AllianceMatchScore_length = reader.Read<short>();
			this.AllianceMatchScore = new byte[AllianceMatchScore_length];
			for(int i = 0; i < AllianceMatchScore_length; i++)
				this.AllianceMatchScore[i] = reader.Read<byte>();
			int AllianceMapWinners_length = reader.Read<short>();
			this.AllianceMapWinners = new BasicAllianceInformations[AllianceMapWinners_length];
			for(int i = 0; i < AllianceMapWinners_length; i++)
			{
				this.AllianceMapWinners[i] = new BasicAllianceInformations();
				this.AllianceMapWinners[i].Deserialize(reader);
			}
			this.AllianceMapWinnerScore = reader.Read<CustomVar<int>>();
			this.AllianceMapMyAllianceScore = reader.Read<CustomVar<int>>();
			this.NextTickTime = reader.Read<double>();

		}


	}
}
