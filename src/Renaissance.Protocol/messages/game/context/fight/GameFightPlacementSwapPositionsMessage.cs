//-------------------------------------------------------------------------------
// <auto-generated>
//	This code was generated by a tool.
//  Generated on 08/12/2019 12:50:49.
//	Changes to this file may cause incorrect behavior !
//  Author : Scheduler.
// </auto-generated>
//-------------------------------------------------------------------------------

using System;
using Renaissance.Binary;
using Renaissance.Binary.Definition;
using Renaissance.Protocol.types.game.context;

namespace Renaissance.Protocol.messages.game.context.fight
{
    public class GameFightPlacementSwapPositionsMessage : IDofusMessage
    {
        public const int NetworkId = 6544;
        public int ProtocolId { get { return NetworkId; } }

        public IdentifiedEntityDispositionInformations[] Dispositions { get; set; }


        public GameFightPlacementSwapPositionsMessage() { }


        public GameFightPlacementSwapPositionsMessage InitGameFightPlacementSwapPositionsMessage(IdentifiedEntityDispositionInformations[] _dispositions)
        {

            this.Dispositions = _dispositions;

            return this;
        }

        public Memory<byte> Serialize()
        {

            int size = default;

            var memory1 = new Memory<byte>[Dispositions.Length];
            for (int i = 0; i < Dispositions.Length; i++)
            {
                memory1[i] = this.Dispositions[i].Serialize();
                size += memory1[i].Length;
            }


            using DofusWriter writer = new DofusWriter(size);

            for (int i = 0; i < memory1.Length; i++)
            {
                writer.WriteDatas(memory1[i]);
            }

            return writer.Data;
        }

        public void Deserialize(DofusReader reader)
        {

            for (int i = 0; i < 2; i++)
            {
                this.Dispositions[i] = new IdentifiedEntityDispositionInformations();
                this.Dispositions[i].Deserialize(reader);
            }
        }
    }
}