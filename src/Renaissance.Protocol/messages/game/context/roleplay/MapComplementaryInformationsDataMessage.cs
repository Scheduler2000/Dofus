//-------------------------------------------------------------------------------
// <auto-generated>
//	This code was generated by a tool.
//  Generated on 08/12/2019 12:50:50.
//	Changes to this file may cause incorrect behavior !
//  Author : Scheduler.
// </auto-generated>
//-------------------------------------------------------------------------------

using    System;
using    Renaissance.Binary;
using    Renaissance.Binary.Definition;
using    Renaissance.Protocol.types.game.context.fight;
using    Renaissance.Protocol.types.game.context.fight;
using    Renaissance.Protocol.types.game.context.roleplay;
using    Renaissance.Protocol.types.game.house;
using    Renaissance.Protocol.types.game.interactive;
using    Renaissance.Protocol.types.game.interactive;
using    Renaissance.Protocol.types.game.interactive;

namespace Renaissance.Protocol.messages.game.context.roleplay
{
	public class MapComplementaryInformationsDataMessage : IDofusMessage
	{
		public  const int NetworkId = 226;
		public  int ProtocolId { get { return NetworkId; } }

		public CustomVar<short> SubAreaId { get; set; }

		public double MapId { get; set; }

		public HouseInformations[] Houses { get; set; }

		public GameRolePlayActorInformations[] Actors { get; set; }

		public InteractiveElement[] InteractiveElements { get; set; }

		public StatedElement[] StatedElements { get; set; }

		public MapObstacle[] Obstacles { get; set; }

		public FightCommonInformations[] Fights { get; set; }

		public bool HasAggressiveMonsters { get; set; }

		public FightStartingPositions FightStartPositions { get; set; }


		public MapComplementaryInformationsDataMessage() { }


		public MapComplementaryInformationsDataMessage InitMapComplementaryInformationsDataMessage(CustomVar<short> _subareaid, double _mapid, HouseInformations[] _houses, GameRolePlayActorInformations[] _actors, InteractiveElement[] _interactiveelements, StatedElement[] _statedelements, MapObstacle[] _obstacles, FightCommonInformations[] _fights, bool _hasaggressivemonsters, FightStartingPositions _fightstartpositions)
		{

			this.SubAreaId = _subareaid;
			this.MapId = _mapid;
			this.Houses = _houses;
			this.Actors = _actors;
			this.InteractiveElements = _interactiveelements;
			this.StatedElements = _statedelements;
			this.Obstacles = _obstacles;
			this.Fights = _fights;
			this.HasAggressiveMonsters = _hasaggressivemonsters;
			this.FightStartPositions = _fightstartpositions;

			return this;
		}

		public  Memory<byte> Serialize()
		{

			int size = default;

			size += DofusBinaryFactory.Sizing.SizeOf(SubAreaId);
			size += DofusBinaryFactory.Sizing.SizeOf(MapId);
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Houses.Length));
			var memory1 = new Memory<byte>[Houses.Length];
			for(int i = 0; i < Houses.Length; i++)
			{
				size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Houses[i].ProtocolId));
				memory1[i] = this.Houses[i].Serialize();
				size += memory1[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Actors.Length));
			var memory2 = new Memory<byte>[Actors.Length];
			for(int i = 0; i < Actors.Length; i++)
			{
				size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Actors[i].ProtocolId));
				memory2[i] = this.Actors[i].Serialize();
				size += memory2[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.InteractiveElements.Length));
			var memory3 = new Memory<byte>[InteractiveElements.Length];
			for(int i = 0; i < InteractiveElements.Length; i++)
			{
				size += DofusBinaryFactory.Sizing.SizeOf((short)(this.InteractiveElements[i].ProtocolId));
				memory3[i] = this.InteractiveElements[i].Serialize();
				size += memory3[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.StatedElements.Length));
			var memory4 = new Memory<byte>[StatedElements.Length];
			for(int i = 0; i < StatedElements.Length; i++)
			{
				memory4[i] = this.StatedElements[i].Serialize();
				size += memory4[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Obstacles.Length));
			var memory5 = new Memory<byte>[Obstacles.Length];
			for(int i = 0; i < Obstacles.Length; i++)
			{
				memory5[i] = this.Obstacles[i].Serialize();
				size += memory5[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf((short)(this.Fights.Length));
			var memory6 = new Memory<byte>[Fights.Length];
			for(int i = 0; i < Fights.Length; i++)
			{
				memory6[i] = this.Fights[i].Serialize();
				size += memory6[i].Length;
			}
			size += DofusBinaryFactory.Sizing.SizeOf(HasAggressiveMonsters);
			var serialized1 = this.FightStartPositions.Serialize();
			size += serialized1.Length;


			using DofusWriter writer = new DofusWriter(size);

			writer.WriteData(this.SubAreaId);
			writer.WriteData(this.MapId);
			writer.WriteData((short)(this.Houses.Length));
			for(int i = 0; i < memory1.Length; i++)
			{
				writer.WriteData((short)(Houses[i].ProtocolId));
				writer.WriteDatas(memory1[i]);
			}
			writer.WriteData((short)(this.Actors.Length));
			for(int i = 0; i < memory2.Length; i++)
			{
				writer.WriteData((short)(Actors[i].ProtocolId));
				writer.WriteDatas(memory2[i]);
			}
			writer.WriteData((short)(this.InteractiveElements.Length));
			for(int i = 0; i < memory3.Length; i++)
			{
				writer.WriteData((short)(InteractiveElements[i].ProtocolId));
				writer.WriteDatas(memory3[i]);
			}
			writer.WriteData((short)(this.StatedElements.Length));
			for(int i = 0; i < memory4.Length; i++)
			{
				writer.WriteDatas(memory4[i]);
			}
			writer.WriteData((short)(this.Obstacles.Length));
			for(int i = 0; i < memory5.Length; i++)
			{
				writer.WriteDatas(memory5[i]);
			}
			writer.WriteData((short)(this.Fights.Length));
			for(int i = 0; i < memory6.Length; i++)
			{
				writer.WriteDatas(memory6[i]);
			}
			writer.WriteData(this.HasAggressiveMonsters);
			writer.WriteDatas(serialized1);

			return writer.Data;
		}

		public  void Deserialize(DofusReader reader)
		{

			this.SubAreaId = reader.Read<CustomVar<short>>();
			this.MapId = reader.Read<double>();
			int Houses_length = reader.Read<short>();
			this.Houses = new HouseInformations[Houses_length];
			for(int i = 0; i < Houses_length; i++)
			{
			reader.Skip(2); // skip protocolManager.GetInstance(short)
				this.Houses[i] = new HouseInformations();
				this.Houses[i].Deserialize(reader);
			}
			int Actors_length = reader.Read<short>();
			this.Actors = new GameRolePlayActorInformations[Actors_length];
			for(int i = 0; i < Actors_length; i++)
			{
			reader.Skip(2); // skip protocolManager.GetInstance(short)
				this.Actors[i] = new GameRolePlayActorInformations();
				this.Actors[i].Deserialize(reader);
			}
			int InteractiveElements_length = reader.Read<short>();
			this.InteractiveElements = new InteractiveElement[InteractiveElements_length];
			for(int i = 0; i < InteractiveElements_length; i++)
			{
			reader.Skip(2); // skip protocolManager.GetInstance(short)
				this.InteractiveElements[i] = new InteractiveElement();
				this.InteractiveElements[i].Deserialize(reader);
			}
			int StatedElements_length = reader.Read<short>();
			this.StatedElements = new StatedElement[StatedElements_length];
			for(int i = 0; i < StatedElements_length; i++)
			{
				this.StatedElements[i] = new StatedElement();
				this.StatedElements[i].Deserialize(reader);
			}
			int Obstacles_length = reader.Read<short>();
			this.Obstacles = new MapObstacle[Obstacles_length];
			for(int i = 0; i < Obstacles_length; i++)
			{
				this.Obstacles[i] = new MapObstacle();
				this.Obstacles[i].Deserialize(reader);
			}
			int Fights_length = reader.Read<short>();
			this.Fights = new FightCommonInformations[Fights_length];
			for(int i = 0; i < Fights_length; i++)
			{
				this.Fights[i] = new FightCommonInformations();
				this.Fights[i].Deserialize(reader);
			}
			this.HasAggressiveMonsters = reader.Read<bool>();
			this.FightStartPositions = new FightStartingPositions();
			this.FightStartPositions.Deserialize(reader);

		}


	}
}
